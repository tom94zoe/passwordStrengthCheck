!function(){angular.module("passwordStrengthCheckerApp",[]).component("passwordStrengthChecker",{bindings:{password:"<",strengthSteps:"<?"},controller:function(t){var e=this,r={strength:[{label:"unsecure",color:"#F00"},{label:"weak",color:"#F90"},{label:"middle",color:"#FF0"},{label:"good",color:"#9F0"},{label:"veryGood",color:"#0F0"}],measureStrength:function(t){var e=4*t.length,r=t.match(/\d+/g),n=t.match(/[A-Z]+/g),o=t.match(/[a-z]+/g),l=t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]+/g),s=t.match(/(.)\1+/);r&&(e+=4*r.join([]).length,e-=this.getValueForSubtraction(t,r)),n&&(e+=2*(t.length-n.join([]).length),e-=this.getValueForSubtraction(t,n)),o&&(e+=2*(t.length-o.join([]).length),e-=this.getValueForSubtraction(t,o)),l&&(e+=6*l.join([]).length,e-=this.getValueForSubtraction(t,l)),s&&(e-=2*s.length);for(var g=1;g<t.length;g++)t.charCodeAt(g-1)-1!==t.charCodeAt(g)&&t.charCodeAt(g-1)+1!==t.charCodeAt(g)||(e-=3);return e=e<0?0:e,e<100?e:100},getColor:function(t){return this.strength[this.getStrengthIndex(t)].color},getStrengthIndex:function(t){return Math.floor(this.measureStrength(t)*this.strength.length/101)},getValueForSubtraction:function(t,e){return e===t?2*t.length:0},getSelectedLabel:function(t){return this.strength[this.getStrengthIndex(t)].label}};e.strengthSteps&&e.strengthSteps[0].label&&e.strengthSteps[0].color&&(r.strength=e.strengthSteps),e.strength=r.strength,t.$watch(function(){return e.password},function(t,n){e.password&&""!==e.password&&(e.selectedColor=r.getColor(e.password),e.strengthIndex=r.getStrengthIndex(e.password),e.selectedLabel=r.getSelectedLabel(e.password),console.log(e.selectedLabel+" "+e.selectedColor+" "+e.strengthIndex))})},template:'<div><ul style="margin: 0; padding:0"><li ng-repeat="strength in $ctrl.strength" style="border-radius: 2px; display: inline-block; height: 5px; margin-right: 1px; width: 20px;"ng-style=\'$index <= $ctrl.strengthIndex?{background:$ctrl.selectedColor}:{ background:grey }\'></li></ul><span ng-style=\'{ &quotcolor &quot:$ctrl.selectedColor}\' >{{$ctrl.selectedLabel}}</span></div>'})}();